<div class="register-container">
  <h2>Créer un compte</h2>

  <form #registerForm="ngForm" (ngSubmit)="register(registerForm)">
    <!-- Username -->
    <div class="form-group">
      <label for="username">Nom d'utilisateur</label>
      <input
        id="username"
        type="text"
        [(ngModel)]="username"
        name="username"
        required
        minlength="3"
        #usernameModel="ngModel"
        [class.invalid]="usernameModel.touched && usernameModel.invalid"
        placeholder="Entrez votre nom"
      />
      <div class="error-message" *ngIf="usernameModel.touched && usernameModel.invalid">
        <small *ngIf="usernameModel.errors?.['required']">Le nom est obligatoire.</small>
        <small *ngIf="usernameModel.errors?.['minlength']">3 caractères minimum.</small>
      </div>
    </div>

    <!-- Password -->
    <div class="form-group">
      <label for="password">Mot de passe</label>
      <input
        id="password"
        type="password"
        [(ngModel)]="password"
        name="password"
        required
        minlength="6"
        #passwordModel="ngModel"
        [class.invalid]="passwordModel.touched && passwordModel.invalid"
        placeholder="Entrez votre mot de passe"
      />
      <div class="error-message" *ngIf="passwordModel.touched && passwordModel.invalid">
        <small *ngIf="passwordModel.errors?.['required']">Le mot de passe est obligatoire.</small>
        <small *ngIf="passwordModel.errors?.['minlength']">6 caractères minimum.</small>
      </div>
    </div>

    <!-- Confirm Password -->
    <div class="form-group">
      <label for="confirmPassword">Confirmer mot de passe</label>
      <input
        id="confirmPassword"
        type="password"
        [(ngModel)]="confirmPassword"
        name="confirmPassword"
        required
        #confirmPasswordModel="ngModel"
        [class.invalid]="confirmPasswordModel.touched && password !== confirmPassword"
        placeholder="Confirmez votre mot de passe"
      />
      <div class="error-message" *ngIf="confirmPasswordModel.touched && password !== confirmPassword">
        Les mots de passe ne correspondent pas.
      </div>
    </div>

    <button type="submit" class="submit-btn" [disabled]="registerForm.invalid">
      S'inscrire
    </button>

    <div *ngIf="successMessage" class="message success">{{ successMessage }}</div>
    <div *ngIf="errorMessage" class="message error">{{ errorMessage }}</div>

    <p class="login-link">
      Vous avez déjà un compte ? <a routerLink="/login">Se connecter</a>
    </p>
  </form>
</div>
